---
// Datos de ejemplo para la galer√≠a con descripciones
const galleryItems = [
  {
    id: 1,
    title: "L√°grima en la Sombra",
    category: "Retrato",
    image: "https://drive.google.com/thumbnail?id=1y_dS5t86-RxcItbQYpOOgbN-9Y4_OXqh&sz=w1000",
    thumbnail: "https://drive.google.com/thumbnail?id=1y_dS5t86-RxcItbQYpOOgbN-9Y4_OXqh&sz=w1000",
    descripci√≥n: "Este retrato explora la intensidad de la emoci√≥n humana a trav√©s de un juego dram√°tico de luces y sombras. La iluminaci√≥n lateral acent√∫a la expresi√≥n del sujeto y el brillo de una l√°grima, creando un fuerte contraste que profundiza el sentido de vulnerabilidad e introspecci√≥n. La composici√≥n busca invitar al espectador a una conexi√≥n √≠ntima con el momento capturado, demostrando mi habilidad para utilizar la luz como una herramienta narrativa y para evocar emociones¬†complejas."
  },
  {
    id: 2,
    title: "Regla de Tercios - Joven Pensativo",
    category: "Fotograf√≠a",
    image: "https://drive.google.com/thumbnail?id=1iHLRjnlJLO9T3PRrTKLKqcIg56SUw7Rt&sz=w1000",
    thumbnail: "https://drive.google.com/thumbnail?id=1iHLRjnlJLO9T3PRrTKLKqcIg56SUw7Rt&sz=w1000",
    descripci√≥n: "Esta imagen aplica magistralmente la regla de los tercios para crear una composici√≥n din√°mica y equilibrada. El sujeto est√° posicionado en el punto de intersecci√≥n derecho, creando un balance visual perfecto. La mirada perdida del joven hacia la distancia a√±ade un elemento narrativo que invita a la reflexi√≥n. La paleta de colores c√°lidos y la iluminaci√≥n natural crean una atm√≥sfera contemplativa. Este trabajo ejemplifica mi dominio de los principios fundamentales de la composici√≥n fotogr√°fica y mi capacidad para contar historias a trav√©s de im√°genes."
  },
  {
    id: 3,
    title: "Retrato - Monja",
    category: "Retrato",
    image: "https://drive.google.com/thumbnail?id=1MZdaVIU_skQ9nAIDALR4PnOrFJQBNIvT&sz=w1000",
    thumbnail: "https://drive.google.com/thumbnail?id=1MZdaVIU_skQ9nAIDALR4PnOrFJQBNIvT&sz=w1000",
    descripci√≥n: "Este retrato de una monja captura la serenidad y la espiritualidad de manera conmovedora. La expresi√≥n tranquila y la mirada contemplativa transmiten una profunda paz interior. La iluminaci√≥n suave y el enfoque n√≠tido en los ojos crean una conexi√≥n espiritual con el espectador. La composici√≥n centrada y el fondo minimalista enfatizan la pureza y la simplicidad del sujeto. Este trabajo demuestra mi habilidad para retratar la dignidad humana y capturar la esencia espiritual de las personas."
  },
  {
    id: 4,
    title: "Rojo Intenso",
    category: "Fotograf√≠a",
    image: "https://drive.google.com/thumbnail?id=1yLKObDi-Ut-VhY0j1mFWP8jMOFZ6D3Zo&sz=w1000",
    thumbnail: "https://drive.google.com/thumbnail?id=1yLKObDi-Ut-VhY0j1mFWP8jMOFZ6D3Zo&sz=w1000",
    descripci√≥n: "Este retrato captura la fuerza y la audacia de la feminidad a trav√©s de un contraste dram√°tico de luces y sombras. El vibrante color rojo del cabello y los labios domina la imagen, creando un punto focal poderoso. La mirada directa del sujeto a la c√°mara establece una conexi√≥n inmediata con el espectador, transmitiendo confianza y presencia. Demuestra mi habilidad para utilizar el color y la iluminaci√≥n para crear im√°genes impactantes y con una fuerte carga emocional."
  },
  {
    id: 5,
    title: "Esquina de la Introspecci√≥n",
    category: "Fotograf√≠a",
    image: "https://drive.google.com/thumbnail?id=1xx2sHVb0cKzAKV6UCgrZXmpHhpKbLdJW&sz=w1000",
    thumbnail: "https://drive.google.com/thumbnail?id=1xx2sHVb0cKzAKV6UCgrZXmpHhpKbLdJW&sz=w1000",
    descripci√≥n: "Esta imagen en blanco y negro captura un momento de profunda introspecci√≥n y vulnerabilidad. La composici√≥n utiliza las l√≠neas duras de la esquina para enmarcar al sujeto, intensificando la sensaci√≥n de confinamiento o aislamiento. La ausencia de color subraya la atm√≥sfera melanc√≥lica y reflexiva, invitando al espectador a contemplar los pensamientos internos del individuo. Demuestra mi capacidad para evocar emociones y crear una narrativa visual a trav√©s de la composici√≥n y el tratamiento¬†del¬†color."
  }
];

// Categor√≠as √∫nicas
const categories = [...new Set(galleryItems.map(item => item.category))];
---

<section id="gallery" class="py-20 bg-gradient-to-br from-gray-50 to-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-5xl font-bold text-gray-900 mb-6 tracking-tight">Galer√≠a de Trabajos</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
        Una muestra de mis proyectos m√°s destacados en diferentes g√©neros audiovisuales
      </p>
    </div>
    
    <!-- Carrusel Container -->
    <div class="carousel-container">
      <div class="background-pattern"></div>
      
      <div class="carousel">
        <div class="carousel-slide">
          <div class="gallery-info fade-in">
            <div class="logo">
              PORTAFOLIO
              <span>FOTOGRAF√çA & VIDEO</span>
            </div>
            
            <div>
              <h1 class="gallery-title">{galleryItems[0].title}</h1>
              <p class="gallery-description">
                {galleryItems[0].descripci√≥n}
              </p>
              
              <div class="stats-container">
                <div class="stat-item">
                  <div class="stat-icon">üì∏</div>
                  <span>Categor√≠a: {galleryItems[0].category}</span>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">üé®</div>
                  <span>Estilo: Retrato Art√≠stico</span>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">üí°</div>
                  <span>Iluminaci√≥n: Natural</span>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">üìê</div>
                  <span>Composici√≥n: Regla de Tercios</span>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">üé≠</div>
                  <span>Emoci√≥n: Vulnerabilidad</span>
                </div>
              </div>
            </div>
          </div>

          <div class="gallery-visual">
            <div class="gallery-cards-container">
              <div class="gallery-card inactive" data-gallery="prev">
                <img src={galleryItems[galleryItems.length - 1].image} alt="Previous" class="gallery-image">
              </div>
              <div class="gallery-card active" data-gallery="current">
                <img src={galleryItems[0].image} alt={galleryItems[0].title} class="gallery-image">
              </div>
              <div class="gallery-card inactive" data-gallery="next">
                <img src={galleryItems[1].image} alt="Next" class="gallery-image">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="carousel-controls">
        <button class="control-btn prev-btn">‚Äπ</button>
        <button class="control-btn next-btn">‚Ä∫</button>
      </div>

      <div class="navigation-dots">
        {galleryItems.map((_, index) => (
          <div class={`nav-dot ${index === 0 ? 'active' : ''}`} data-slide={index}></div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .carousel-container {
    width: 98%;
    max-width: 1600px;
    height: 750px;
    margin: 0 auto;
    position: relative;
    background: rgba(0, 0, 0, 0.8);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
  }

  .carousel {
    display: flex;
    height: 100%;
  }

  .carousel-slide {
    min-width: 100%;
    display: flex;
    position: relative;
  }

  .gallery-info {
    flex: 1;
    padding: 50px;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    z-index: 2;
    transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
  }

  .gallery-info.fade-out {
    opacity: 0;
    transform: translateY(20px);
  }

  .gallery-info.fade-in {
    opacity: 1;
    transform: translateY(0);
  }

  .logo {
    font-size: 28px;
    font-weight: bold;
    color: #fbbf24;
    margin-bottom: 30px;
    flex-shrink: 0;
  }

  .logo span {
    font-size: 14px;
    color: #ccc;
    display: block;
  }

  .gallery-title {
    font-size: 56px;
    font-weight: bold;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    flex-shrink: 0;
    line-height: 1.1;
  }

  .gallery-description {
    font-size: 18px;
    line-height: 1.7;
    margin-bottom: 40px;
    color: #e0e0e0;
    flex: 1;
    display: -webkit-box;
    -webkit-line-clamp: 8;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .stats-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 0;
    flex-shrink: 0;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 16px;
  }

  .stat-icon {
    width: 24px;
    height: 24px;
    background: #fbbf24;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    color: #000;
    flex-shrink: 0;
  }

  .gallery-visual {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .gallery-card {
    width: 400px;
    height: 500px;
    border-radius: 20px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
    transition: all 0.8s ease-in-out;
    animation: float 3s ease-in-out infinite;
  }

  .gallery-card:nth-child(2) {
    animation-delay: 0.5s;
  }

  .gallery-card:nth-child(3) {
    animation-delay: 1s;
  }

  .gallery-card:hover {
    transform: scale(1.05);
  }

  .gallery-card.active {
    transform: scale(1.1);
    z-index: 3;
  }

  .gallery-card.inactive {
    filter: grayscale(100%);
    opacity: 0.7;
    transform: scale(0.9);
  }

  .gallery-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 20px;
    transition: all 0.8s ease-in-out;
  }

  .gallery-cards-container {
    display: flex;
    gap: 25px;
    align-items: center;
    position: relative;
  }

  .navigation-dots {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 12px;
    z-index: 10;
    background: rgba(0, 0, 0, 0.7);
    padding: 10px 20px;
    border-radius: 25px;
    backdrop-filter: blur(10px);
  }

  .nav-dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .nav-dot.active {
    background: #fbbf24;
    transform: scale(1.2);
  }

  .carousel-controls {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: calc(100% + 140px);
    left: -70px;
    display: flex;
    justify-content: space-between;
    z-index: 10;
  }

  .control-btn {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid rgba(255, 255, 255, 0.3);
    color: white;
    font-size: 28px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  }

  .control-btn:hover {
    background: rgba(0, 0, 0, 0.9);
    border-color: #fbbf24;
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
  }

  .background-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 30% 20%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(239, 68, 68, 0.1) 0%, transparent 50%);
    pointer-events: none;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  /* Responsive Design */
  @media (max-width: 1200px) {
    .carousel-container {
      width: 98%;
      height: 700px;
    }

    .gallery-card {
      width: 350px;
      height: 450px;
    }

    .gallery-title {
      font-size: 48px;
    }

    .gallery-description {
      font-size: 16px;
      -webkit-line-clamp: 7;
    }
  }

  @media (max-width: 992px) {
    .carousel-container {
      height: 650px;
    }

    .gallery-info {
      padding: 40px;
    }

    .gallery-title {
      font-size: 42px;
    }

    .gallery-card {
      width: 300px;
      height: 400px;
    }

    .carousel-controls {
      width: calc(100% + 100px);
      left: -50px;
    }

    .control-btn {
      width: 60px;
      height: 60px;
      font-size: 24px;
    }
  }

  @media (max-width: 768px) {
    .carousel-container {
      width: 100%;
      height: auto;
      min-height: 500px;
      margin: 0;
      border-radius: 0;
    }

    .carousel-slide {
      flex-direction: column;
    }

    .gallery-info {
      padding: 30px 20px;
      order: 2;
    }

    .gallery-visual {
      order: 1;
      padding: 20px;
    }

    .gallery-title {
      font-size: 32px;
      margin-bottom: 20px;
    }

    .gallery-description {
      font-size: 14px;
      margin-bottom: 25px;
      -webkit-line-clamp: 6;
    }

    .stats-container {
      grid-template-columns: 1fr;
      gap: 15px;
      margin-bottom: 0;
    }

    .gallery-cards-container {
      flex-direction: column;
      gap: 15px;
    }

    .gallery-card {
      width: 280px;
      height: 350px;
    }

    .gallery-card.inactive {
      display: none;
    }

    .carousel-controls {
      position: relative;
      width: 100%;
      left: 0;
      top: 0;
      transform: none;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .control-btn {
      width: 50px;
      height: 50px;
      font-size: 20px;
    }

    .navigation-dots {
      position: relative;
      bottom: auto;
      left: auto;
      transform: none;
      margin-top: 20px;
    }
  }

  @media (max-width: 480px) {
    .gallery-info {
      padding: 20px 15px;
    }

    .gallery-title {
      font-size: 28px;
    }

    .gallery-description {
      font-size: 13px;
      -webkit-line-clamp: 5;
    }

    .gallery-card {
      width: 250px;
      height: 300px;
    }

    .logo {
      font-size: 24px;
    }

    .logo span {
      font-size: 12px;
    }
  }
</style>

<script>
  class GalleryCarousel {
    constructor() {
      this.currentSlide = 0;
      this.isTransitioning = false;
      this.dots = document.querySelectorAll('.nav-dot');
      this.prevBtn = document.querySelector('.prev-btn');
      this.nextBtn = document.querySelector('.next-btn');
      this.galleryInfo = document.querySelector('.gallery-info');
      this.cards = document.querySelectorAll('.gallery-card');
      
      // Datos de la galer√≠a
      this.galleryItems = [
        {
          title: "L√°grima en la Sombra",
          category: "Retrato",
          description: "Este retrato explora la intensidad de la emoci√≥n humana a trav√©s de un juego dram√°tico de luces y sombras. La iluminaci√≥n lateral acent√∫a la expresi√≥n del sujeto y el brillo de una l√°grima, creando un fuerte contraste que profundiza el sentido de vulnerabilidad e introspecci√≥n. La composici√≥n busca invitar al espectador a una conexi√≥n √≠ntima con el momento capturado, demostrando mi habilidad para utilizar la luz como una herramienta narrativa y para evocar emociones complejas.",
          stats: [
            { icon: "üì∏", label: "Categor√≠a: Retrato" },
            { icon: "üé®", label: "Estilo: Retrato Art√≠stico" },
            { icon: "üí°", label: "Iluminaci√≥n: Natural" },
            { icon: "üé≠", label: "Emoci√≥n: Vulnerabilidad" }
          ],
          level: 1,
          images: {
            prev: "https://drive.google.com/thumbnail?id=1xx2sHVb0cKzAKV6UCgrZXmpHhpKbLdJW&sz=w1000",
            current: "https://drive.google.com/thumbnail?id=1y_dS5t86-RxcItbQYpOOgbN-9Y4_OXqh&sz=w1000",
            next: "https://drive.google.com/thumbnail?id=1iHLRjnlJLO9T3PRrTKLKqcIg56SUw7Rt&sz=w1000"
          }
        },
        {
          title: "Regla de Tercios - Joven Pensativo",
          category: "Fotograf√≠a",
          description: "Esta imagen aplica magistralmente la regla de los tercios para crear una composici√≥n din√°mica y equilibrada. El sujeto est√° posicionado en el punto de intersecci√≥n derecho, creando un balance visual perfecto. La mirada perdida del joven hacia la distancia a√±ade un elemento narrativo que invita a la reflexi√≥n. La paleta de colores c√°lidos y la iluminaci√≥n natural crean una atm√≥sfera contemplativa. Este trabajo ejemplifica mi dominio de los principios fundamentales de la composici√≥n fotogr√°fica y mi capacidad para contar historias a trav√©s de im√°genes.",
          stats: [
            { icon: "üì∏", label: "Categor√≠a: Fotograf√≠a" },
            { icon: "üé®", label: "Estilo: Documental" },
            { icon: "üí°", label: "Iluminaci√≥n: Natural" },
            { icon: "üé≠", label: "Emoci√≥n: Contemplaci√≥n" }
          ],
          level: 2,
          images: {
            prev: "https://drive.google.com/thumbnail?id=1y_dS5t86-RxcItbQYpOOgbN-9Y4_OXqh&sz=w1000",
            current: "https://drive.google.com/thumbnail?id=1iHLRjnlJLO9T3PRrTKLKqcIg56SUw7Rt&sz=w1000",
            next: "https://drive.google.com/thumbnail?id=1MZdaVIU_skQ9nAIDALR4PnOrFJQBNIvT&sz=w1000"
          }
        },
        {
          title: "Retrato - Monja",
          category: "Retrato",
          description: "Este retrato de una monja captura la serenidad y la espiritualidad de manera conmovedora. La expresi√≥n tranquila y la mirada contemplativa transmiten una profunda paz interior. La iluminaci√≥n suave y el enfoque n√≠tido en los ojos crean una conexi√≥n espiritual con el espectador. La composici√≥n centrada y el fondo minimalista enfatizan la pureza y la simplicidad del sujeto. Este trabajo demuestra mi habilidad para retratar la dignidad humana y capturar la esencia espiritual de las personas.",
          stats: [
            { icon: "üì∏", label: "Categor√≠a: Retrato" },
            { icon: "üé®", label: "Estilo: Retrato Espiritual" },
            { icon: "üí°", label: "Iluminaci√≥n: Suave" },
            { icon: "üé≠", label: "Emoci√≥n: Serenidad" }
          ],
          level: 3,
          images: {
            prev: "https://drive.google.com/thumbnail?id=1iHLRjnlJLO9T3PRrTKLKqcIg56SUw7Rt&sz=w1000",
            current: "https://drive.google.com/thumbnail?id=1MZdaVIU_skQ9nAIDALR4PnOrFJQBNIvT&sz=w1000",
            next: "https://drive.google.com/thumbnail?id=1yLKObDi-Ut-VhY0j1mFWP8jMOFZ6D3Zo&sz=w1000"
          }
        },
        {
          title: "Rojo Intenso",
          category: "Fotograf√≠a",
          description: "Este retrato captura la fuerza y la audacia de la feminidad a trav√©s de un contraste dram√°tico de luces y sombras. El vibrante color rojo del cabello y los labios domina la imagen, creando un punto focal poderoso. La mirada directa del sujeto a la c√°mara establece una conexi√≥n inmediata con el espectador, transmitiendo confianza y presencia. Demuestra mi habilidad para utilizar el color y la iluminaci√≥n para crear im√°genes impactantes y con una fuerte carga emocional.",
          stats: [
            { icon: "üì∏", label: "Categor√≠a: Fotograf√≠a" },
            { icon: "üé®", label: "Estilo: Retrato Dram√°tico" },
            { icon: "üí°", label: "Iluminaci√≥n: Contraste" },
            { icon: "üé≠", label: "Emoci√≥n: Confianza" }
          ],
          level: 4,
          images: {
            prev: "https://drive.google.com/thumbnail?id=1MZdaVIU_skQ9nAIDALR4PnOrFJQBNIvT&sz=w1000",
            current: "https://drive.google.com/thumbnail?id=1yLKObDi-Ut-VhY0j1mFWP8jMOFZ6D3Zo&sz=w1000",
            next: "https://drive.google.com/thumbnail?id=1xx2sHVb0cKzAKV6UCgrZXmpHhpKbLdJW&sz=w1000"
          }
        },
        {
          title: "Esquina de la Introspecci√≥n",
          category: "Fotograf√≠a",
          description: "Esta imagen en blanco y negro captura un momento de profunda introspecci√≥n y vulnerabilidad. La composici√≥n utiliza las l√≠neas duras de la esquina para enmarcar al sujeto, intensificando la sensaci√≥n de confinamiento o aislamiento. La ausencia de color subraya la atm√≥sfera melanc√≥lica y reflexiva, invitando al espectador a contemplar los pensamientos internos del individuo. Demuestra mi capacidad para evocar emociones y crear una narrativa visual a trav√©s de la composici√≥n y el tratamiento del color.",
          stats: [
            { icon: "üì∏", label: "Categor√≠a: Fotograf√≠a" },
            { icon: "üé®", label: "Estilo: Minimalista" },
            { icon: "üí°", label: "Iluminaci√≥n: Natural" },
            { icon: "üé≠", label: "Emoci√≥n: Soledad" }
          ],
          level: 5,
          images: {
            prev: "https://drive.google.com/thumbnail?id=1yLKObDi-Ut-VhY0j1mFWP8jMOFZ6D3Zo&sz=w1000",
            current: "https://drive.google.com/thumbnail?id=1xx2sHVb0cKzAKV6UCgrZXmpHhpKbLdJW&sz=w1000",
            next: "https://drive.google.com/thumbnail?id=1y_dS5t86-RxcItbQYpOOgbN-9Y4_OXqh&sz=w1000"
          }
        }
      ];
      
      this.init();
    }

    init() {
      this.bindEvents();
      this.updateContent();
    }

    bindEvents() {
      this.prevBtn.addEventListener('click', () => this.prevSlide());
      this.nextBtn.addEventListener('click', () => this.nextSlide());
      
      this.dots.forEach((dot, index) => {
        dot.addEventListener('click', () => this.goToSlide(index));
      });

      // Touch events for mobile
      let startX = 0;
      let endX = 0;

      document.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
      });

      document.addEventListener('touchend', (e) => {
        endX = e.changedTouches[0].clientX;
        this.handleSwipe();
      });

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') this.prevSlide();
        if (e.key === 'ArrowRight') this.nextSlide();
      });
    }

    handleSwipe() {
      const swipeThreshold = 50;
      const diff = startX - endX;

      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          this.nextSlide();
        } else {
          this.prevSlide();
        }
      }
    }

    goToSlide(index) {
      if (this.isTransitioning) return;
      this.currentSlide = index;
      this.updateContent();
    }

    nextSlide() {
      if (this.isTransitioning) return;
      this.currentSlide = (this.currentSlide + 1) % this.galleryItems.length;
      this.updateContent();
    }

    prevSlide() {
      if (this.isTransitioning) return;
      this.currentSlide = this.currentSlide === 0 ? this.galleryItems.length - 1 : this.currentSlide - 1;
      this.updateContent();
    }

    updateContent() {
      if (this.isTransitioning) return;
      this.isTransitioning = true;

      const item = this.galleryItems[this.currentSlide];
      
      // Fade out current content
      this.galleryInfo.classList.add('fade-out');
      
      setTimeout(() => {
        // Update gallery information
        this.updateGalleryInfo(item);
        
        // Update gallery images
        this.updateGalleryImages(item);
        
        // Update dots
        this.updateDots();
        
        // Fade in new content
        this.galleryInfo.classList.remove('fade-out');
        this.galleryInfo.classList.add('fade-in');
        
        setTimeout(() => {
          this.galleryInfo.classList.remove('fade-in');
          this.isTransitioning = false;
        }, 800);
      }, 400);
    }

    updateGalleryInfo(item) {
      const titleElement = this.galleryInfo.querySelector('.gallery-title');
      const descriptionElement = this.galleryInfo.querySelector('.gallery-description');
      const statsContainer = this.galleryInfo.querySelector('.stats-container');

      // Update title and description
      titleElement.textContent = item.title;
      descriptionElement.textContent = item.description;

      // Update stats
      statsContainer.innerHTML = '';
      item.stats.forEach(stat => {
        const statItem = document.createElement('div');
        statItem.className = 'stat-item';
        statItem.innerHTML = `
          <div class="stat-icon">${stat.icon}</div>
          <span>${stat.label}</span>
        `;
        statsContainer.appendChild(statItem);
      });
    }

    updateGalleryImages(item) {
      const prevCard = this.cards[0];
      const currentCard = this.cards[1];
      const nextCard = this.cards[2];

      // Update images with transition
      prevCard.querySelector('.gallery-image').src = item.images.prev;
      currentCard.querySelector('.gallery-image').src = item.images.current;
      nextCard.querySelector('.gallery-image').src = item.images.next;
    }

    updateDots() {
      this.dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === this.currentSlide);
      });
    }
  }

  // Initialize carousel when DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    new GalleryCarousel();
  });

  // Add some interactive effects
  document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.gallery-card');
    
    cards.forEach(card => {
      card.addEventListener('mouseenter', () => {
        if (!card.classList.contains('inactive')) {
          card.style.transform = 'scale(1.1) rotate(2deg)';
        }
      });

      card.addEventListener('mouseleave', () => {
        card.style.transform = '';
      });
    });
  });
</script> 